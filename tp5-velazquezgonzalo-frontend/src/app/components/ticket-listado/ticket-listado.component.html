<div class="container">
    <h1>Listado de Tickets</h1>
    
    <div class="row">
        <div class="col-3 d-flex mt-auto">
            <button type="button" class="btn btn-primary" (click)="getAllTickets()">Listar Todos</button>
        </div>
        <div class="col-3">
            <label for="a" class="form-label">Tipo de Espectador</label>
            <select id="a" class="form-select" name="filtroEspectador" [(ngModel)]="filtroEspectador">
                <option value="" disabled selected>Seleccione...</option>
                <option value="l">Local</option>
                <option value="e">Extranjero</option>
              </select>
        </div>
        <div class="col-2 d-flex mt-auto">
            <button type="button" class="btn btn-success" (click)="getPorTipoEspectador()">Filtrar</button>
        </div>
        <div class="col-4 d-flex mt-auto">
            <button type="button" class="btn btn-info ms-auto" (click)="agregar()">+ Registrar Ticket</button>
        </div>
    </div>

    <table class="table text-center">
        <thead>
            <tr>
                <th scope="col" class="text-start">ID</th>
                <th scope="col">Precio de ticket</th>
                <th scope="col">Categoria de espectador</th>
                <th scope="col">Fecha de Compra</th>
                <th scope="col">Espectador</th>
                <th scope="col">Acciones</th>
            </tr>
        </thead>
        <tbody>
            <tr class="" *ngFor="let t of tickets">
                <th class="text-start" scope="row">{{t._id}}</th>
                <td>{{t.precioTicket | currency: '$ ':'code':'1.2'}}</td>
                <td>{{ t.categoriaEspectador === 'l' ? 'Local' : 'Extranjero' }}</td>
                <td>{{t.fechaCompra | date: 'dd/MM/yyyy'}}</td>
                <td>{{t.espectador.apellido}}, {{t.espectador.nombre}}</td>
                <td>
                    <button type="button" class="btn btn-warning" (click)="modificar(t._id)">Modificar</button>
                    <button type="button" class="btn btn-danger ms-2" (click)="eliminar(t._id)">Eliminar</button>
                </td>
            </tr>
        </tbody>
    </table>
</div>